webpackJsonp([5,6],{117:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(27),o=n.n(a),r=n(186),i=n.n(r),u=n(187),s=n.n(u),c=n(23);e.default={name:"app",methods:{},computed:o()({},n.i(c.a)({route:function(t){return t.route},path:function(t){return t.route.path},isLoading:function(t){return t.isLoading}})),components:{mHead:i.a,mNav:s.a}}},118:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(27),o=n.n(a),r=n(23),i=n(12);e.default={name:"header",computed:o()({},n.i(r.a)({token:function(t){return t.token},user:function(t){return t.user}})),methods:{logOut:function(){this.$store.commit(i.a),this.$router.push({path:"/login"})}}}},119:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(27),o=n.n(a),r=n(23);e.default={name:"nav",computed:o()({},n.i(r.a)({path:function(t){return t.route.path}}))}},12:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return r});var a="LOGIN",o="LOGOUT",r="TITLE"},182:function(t,e){},183:function(t,e){},184:function(t,e){},186:function(t,e,n){n(184);var a=n(24)(n(118),n(190),null,null);t.exports=a.exports},187:function(t,e,n){n(183);var a=n(24)(n(119),n(189),null,null);t.exports=a.exports},188:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},["/login"!=t.path?n("div",{staticStyle:{height:"100%"}},[n("m-head"),t._v(" "),n("div",{staticClass:"main"},[n("m-nav"),t._v(" "),n("div",{staticClass:"container"},[n("router-view")],1)],1)],1):n("div",[n("router-view")],1)])},staticRenderFns:[]}},189:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"nav"},[n("div",{staticClass:"l"},[n("ul",[n("router-link",{attrs:{tag:"li",to:"/addstyle"}},[n("i",{staticClass:"iconfont icon-style"}),t._v("首页")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/test"}},[n("i",{staticClass:"iconfont icon-style"}),t._v("测试页面")]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/hello"}},[n("i",{staticClass:"iconfont icon-style"}),t._v("关于Vue")])],1)]),t._m(0)])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"r"},[n("ul",[n("li",[t._v("菜单菜单")]),t._v(" "),n("li",{staticClass:"active"},[t._v("菜单菜单")])])])}]}},190:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("el-row",[n("el-col",{attrs:{span:12}},[n("div",{staticClass:"logo"},[t._v("\n        VUE\n      ")])]),t._v(" "),t.user?n("el-col",{staticClass:"text-right",attrs:{span:12}},[n("div",{staticClass:"user"},[n("ul",[n("li",[t._v(t._s(t.user.userName))]),t._v(" "),n("li",{on:{click:function(e){t.logOut()}}},[t._v("退出")])])])]):t._e()],1)],1)},staticRenderFns:[]}},194:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(72),o=n.n(a),r=n(71),i=n.n(r),u=n(2),s=n(73),c=n.n(s),l=n(74),f=(n.n(l),n(75)),d=(n.n(f),n(76)),p=n.n(d),h=n(43),v=n(70),m=n(45),g=n.n(m),_=n(77),y=(n.n(_),n(12),n(69));u.default.config.productionTip=!1,u.default.use(c.a),i()(y).forEach(function(t){u.default.filter(t,y[t])}),v.a.beforeEach(function(t,e,n){if(console.log(h.a.state.token),g.a.get("/isLogin").then(function(t){console.log(t)}),"/login"==t.path&&h.a.state.token)return void n({path:"/",redirect:"/addstyle"});t.matched.some(function(t){return t.meta.requireAuth})?h.a.state.token?n():n({path:"/login",query:{redirect:t.fullPath}}):n()}),v.a.afterEach(function(t){document.title=t.meta.title}),n.i(_.sync)(h.a,v.a),g.a.interceptors.request.use(function(t){return console.log(t),t},function(t){return o.a.reject(t)}),g.a.interceptors.response.use(function(t){return t},function(t){return o.a.reject(t)}),u.default.prototype.$http=g.a,new u.default({el:"#app",store:h.a,router:v.a,template:"<App/>",components:{App:p.a}})},43:function(t,e,n){"use strict";var a,o=n(123),r=n.n(o),i=n(120),u=n.n(i),s=n(23),c=n(2),l=n(12);c.default.use(s.b),e.a=new s.b.Store({state:{user:null,token:!1,title:"",isLoading:!1},mutations:(a={},r()(a,l.b,function(t,e){t.token=!0,t.user=e,localStorage.setItem("token",!0),localStorage.setItem("user",u()(e))}),r()(a,l.a,function(t){localStorage.removeItem("token"),localStorage.removeItem("user"),t.token=!1,t.user=null}),r()(a,l.c,function(t,e){t.title=e}),a)})},69:function(t,e,n){"use strict";function a(t){if(t)return parseInt(t)}function o(t,e){var n=new Date(t);"Invalid Date"==n&&(n=new Date(parseFloat(t))),e||(e="yyyy-MM-dd hh:mm:ss");var a={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length)));for(var o in a)new RegExp("("+o+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?a[o]:("00"+a[o]).substr((""+a[o]).length)));return e}Object.defineProperty(e,"__esModule",{value:!0}),e.parseint=a,e.formatDate=o},70:function(t,e,n){"use strict";var a=n(2),o=n(43),r=n(12),i=n(191);a.default.use(i.a),window.localStorage.getItem("token")&&o.a.commit(r.b,JSON.parse(window.localStorage.getItem("user")));var u=new i.a({mode:"history",scrollBehavior:function(){return{y:0}},routes:[{path:"/login",name:"login",meta:{title:"登录"},component:function(t){return n.e(0).then(function(){var e=[n(199)];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/addstyle",name:"addstyle",meta:{title:"新增款式",requireAuth:!0},component:function(t){return n.e(3).then(function(){var e=[n(197)];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/hello",name:"hello",meta:{title:"关于VUE"},component:function(t){return n.e(2).then(function(){var e=[n(198)];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/test",name:"test",meta:{title:"测试页面",requireAuth:!0},component:function(t){return n.e(1).then(function(){var e=[n(200)];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/",redirect:"/addstyle"}]});e.a=u},74:function(t,e){},75:function(t,e){},76:function(t,e,n){n(182);var a=n(24)(n(117),n(188),null,null);t.exports=a.exports}},[194]);
//# sourceMappingURL=app.40752c2b025d33fc95b4.js.map